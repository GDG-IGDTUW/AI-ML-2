import pandas as pd

# Load only header row to get feature names
FEATURE_ORDER = list(
    pd.read_csv("sample_input.csv", nrows=0).columns
)

def generate_feature_dataframe(uploaded_df):
    """
    Ensures uploaded dataframe matches required feature order.
    - Missing features are filled with 0
    - Extra features are ignored
    - Column order is strictly enforced
    """
    # Reindex ensures:
    # 1. Correct column ordering
    # 2. Missing columns filled with 0
    # 3. Extra columns dropped
    df_fixed = uploaded_df.reindex(columns=FEATURE_ORDER, fill_value=0)

    return df_fixed